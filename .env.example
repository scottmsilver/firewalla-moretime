# ============================================
# Firewalla Time Manager - Configuration
# ============================================
#
# This file contains all configuration for the application.
# For first-time setup, you can configure most of these through
# the web UI setup wizard.
#
# QUICK START:
# 1. Copy this file to .env
# 2. Update SESSION_SECRET (generate with: openssl rand -base64 32)
# 3. Start the servers (npm run dev)
# 4. Open http://localhost:3003 in browser
# 5. Follow the setup wizard
#
# OR manually configure all settings below and restart servers.
#
# ============================================

# Firewalla Bridge Configuration

# Port for the bridge server to listen on
PORT=3002

# IP address of your Firewalla device
FIREWALLA_IP=192.168.1.1

# Email address for authentication (can be any valid email format)
# This is used for ETP token authentication
EMAIL=api@firewalla.local

# Path to ETP public key file (relative to project root)
ETP_PUBLIC_KEY=etp.public.pem

# Path to ETP private key file (relative to project root)
ETP_PRIVATE_KEY=etp.private.pem

# Web Server Configuration

# Port for the web UI server to listen on
WEB_PORT=3003

# Base URL of the web server (used for OAuth callbacks)
WEB_URL=http://localhost:3003

# URL of the bridge server (used by web server)
BRIDGE_URL=http://localhost:3002

# Path to log file for pause history
LOG_FILE=time_extensions.log

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
#
# Create a Google Cloud Project:
# 1. Go to https://console.cloud.google.com
# 2. Create a new project (or select an existing one)
# 3. Enable the Gmail API for your project
# 4. Go to "APIs & Services" → "Credentials"
# 5. Click "Create Credentials" → "OAuth 2.0 Client ID"
# 6. Choose "Web application" as the application type
# 7. Add this Authorized redirect URI:
#    http://localhost:3003/auth/google/callback
#    (Replace localhost:3003 with your actual server URL if different)
# 8. Click "Create" and copy the Client ID and Client Secret below
#
# NOTE: You can also configure these through the web UI setup wizard.
# The wizard will save these values to this file automatically.
#
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# Session secret for secure cookie encryption
# Generate a random string: openssl rand -base64 32
SESSION_SECRET=change-this-to-a-random-string

# Gmail Configuration for Email Notifications
# These are configured automatically during first-time setup
# when the admin logs in with Google OAuth
GMAIL_USER=
GMAIL_REFRESH_TOKEN=

# Email notification recipient (set during setup)
NOTIFY_EMAIL=
