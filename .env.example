# ============================================
# Firewalla Time Manager - Configuration
# ============================================
#
# This file contains all configuration for the application.
# Most settings are configured automatically through the web UI.
#
# QUICK START (Recommended):
# 1. Copy this file to .env
# 2. Update SESSION_SECRET (generate with: openssl rand -base64 32)
# 3. Start the server: npm start
# 4. Open http://localhost:3003 in your browser
# 5. Follow the setup wizard to configure:
#    - Google OAuth (for admin login)
#    - Firewalla connection (via QR code)
#    - Email notifications
#
# ============================================

# ============================================
# Web Server Configuration
# ============================================

# Port for the web server to listen on
WEB_PORT=3003

# Host/IP address to bind to
# Default: localhost (only accessible from this machine)
# For network access: 0.0.0.0 (accessible from other devices on your network)
# Security Note: Use 0.0.0.0 only on trusted networks
BIND_HOST=localhost

# Base URL of the web server (used for OAuth callbacks)
# Development (Vite): http://localhost:3005
# Production: http://localhost:3003
# Remote: https://your-domain.com
WEB_URL=http://localhost:3003

# Path to log file for pause history
LOG_FILE=time_extensions.log

# ============================================
# SESSION SECRET (REQUIRED)
# ============================================
# Generate a random string: openssl rand -base64 32
# This is used to encrypt session cookies
SESSION_SECRET=change-this-to-a-random-string

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
#
# You can configure these values either:
# A) Through the web UI setup wizard (recommended), OR
# B) Manually by following these steps:
#
# Manual Setup:
# 1. Go to https://console.cloud.google.com
# 2. Create a new project (or select an existing one)
# 3. Enable the Gmail API for your project
# 4. Go to "APIs & Services" → "Credentials"
# 5. Click "Create Credentials" → "OAuth 2.0 Client ID"
# 6. Choose "Web application" as the application type
# 7. Add this Authorized redirect URI:
#    http://localhost:3003/auth/google/callback
#    (Update the URL if you changed WEB_URL above)
# 8. Click "Create" and copy the values below
#
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# FIREWALLA CONNECTION
# ============================================
#
# These values are set automatically when you connect
# to your Firewalla device through the web UI:
# - FIREWALLA_IP: Set via QR code connection in Settings
# - EMAIL: Your admin email (set during OAuth login)
# - ETP keys: Generated automatically during connection
#
# You should not need to manually configure these.
#
FIREWALLA_IP=192.168.1.1
EMAIL=api@firewalla.local
ETP_PUBLIC_KEY=etp.public.pem
ETP_PRIVATE_KEY=etp.private.pem

# ============================================
# EMAIL NOTIFICATIONS
# ============================================
#
# These are configured automatically when the admin
# logs in with Google OAuth (if Gmail access is granted)
# or can be set manually in the Settings tab.
#
# GMAIL_USER: Your Gmail address
# GMAIL_REFRESH_TOKEN: OAuth refresh token (auto-generated)
# NOTIFY_EMAIL: Recipient for notifications
# GMAIL_CLIENT_ID: Same as GOOGLE_CLIENT_ID
# GMAIL_CLIENT_SECRET: Same as GOOGLE_CLIENT_SECRET
#
GMAIL_USER=
GMAIL_REFRESH_TOKEN=
NOTIFY_EMAIL=
GMAIL_CLIENT_ID=
GMAIL_CLIENT_SECRET=
